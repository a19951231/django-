function Module(){var e=this;e.maskWrapper=$(".module-wrapper"),e.delete_btn=$(".btn-danger"),e.masknone=$(".mask-none"),e.titlexm=$("#title-mk"),e.limodule=$("#li-module")}Module.prototype.run=function(){var e=this;e.listenShowHideEvent(),e.addbtnEvent(),e.deleteShowHideEvent(),e.editbtnEvent()},Module.prototype.hideEvent=function(){$("#module_name").val(""),$("#module_name1").val(""),$("#module_order").val(""),$(".belong_project").val(""),$("#simple_desc").val(""),$("#other_desc").val("");this.maskWrapper.hide()},Module.prototype.showEvent=function(){this.maskWrapper.show()},Module.prototype.listenShowHideEvent=function(){var e=this,t=$("#add-mk"),o=$(".close-btn"),n=$(".submit-btn-red"),l=$("#submit-btn-bule"),i=$("#edit-item-btn");t.click(function(){e.showEvent(),l.show()}),o.click(function(){l.hide(),i.hide(),e.titlexm.text("添加模块"),e.hideEvent()}),n.click(function(){l.hide(),i.hide(),e.titlexm.text("添加模块"),e.hideEvent()})},Module.prototype.addbtnEvent=function(){$("#submit-btn-bule").click(function(){var e=$("#module_name").val(),t=$("#module_name1").val(),o=$("#belong_project").val();console.log(o);var n=$("#simple_desc").val(),l=$("#other_desc").val(),i=$("#module_order").val();console.log(l),xfzajax.post({url:"/mk/add_module/",data:{module_name:e,test_user:t,belong_project:o,simple_desc:n,other_desc:l,module_order:i},success:function(e){200===e.code&&(window.messageBox.show(e.message),setTimeout(function(){window.location="/mk/"},900))}}),edititembtn.attr("id","submit-btn-bule")})},Module.prototype.noneshowEvent=function(){this.masknone.show()},Module.prototype.nonehideEvent=function(){this.masknone.hide()},Module.prototype.detelebtnEvent=function(){var e=this;e.delete_btn.click(function(){e.noneshowEvent()})},Module.prototype.deleteShowHideEvent=function(){var t=this,o="",e=$(".close-btn1"),n=$(".cancel-btn"),l=$(".delete-btn-red");t.delete_btn.click(function(){var e=$(this).parent();o=e.attr("id"),console.log(o),t.noneshowEvent(),console.log("========"),console.log(o)}),e.click(function(){t.nonehideEvent()}),n.click(function(){t.nonehideEvent()}),l.click(function(){xfzajax.post({url:"/mk/delete_module/",data:{id:o},success:function(e){200===e.code&&(window.messageBox.show(e.message),setTimeout(function(){window.location="/mk/"},900))}})}),t.limodule.attr("class","active-menu").siblings().removeClass("active-menu")},Module.prototype.editbtnEvent=function(){var d=this,e=$(".btn-edit"),n=$(".edit-item-btn"),s="",l="",i="",a="",c="",u="",m="";e.click(function(){d.showEvent(),n.show(),d.titlexm.text("编辑模块");var e=$(this).parent();s=e.attr("id"),l=e.attr("module_name"),i=e.attr("test_user"),a=e.attr("belong_project"),m=e.attr("module_order"),console.log(a),c=e.attr("simple_desc"),u=e.attr("other_desc");$("#module_name").val(l),$("#module_name1").val(i);var t=$("#belong_project").val(a);$("#module_order").val(m);console.log("="),console.log(t);$("#simple_desc").val(c);var o=$("#other_desc").val(u);console.log(o),n.click(function(){var e=$("#module_name").val(),t=$("#module_name1").val(),o=$("#belong_project").val(),n=$("#simple_desc").val(),l=$("#other_desc").val(),i=$("#module_order").val();xfzajax.post({url:"/mk/edit_module/",data:{id:s,module_name:e,test_user:t,belong_project:o,simple_desc:n,other_desc:l,module_order:i},success:function(e){200===e.code&&(window.messageBox.show(e.message),console.log("已执行编辑==="),setTimeout(function(){window.location="/mk/"},1e3),d.titlexm.text("添加模块"))}})})})},jq331(function(e){var t=new Module;console.log("执行"),t.run(),this.limodule.attr("class","active-menu").siblings().removeClass("active-menu")});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1vZHVsZV9saXN0LmpzIl0sIm5hbWVzIjpbIk1vZHVsZSIsInNlbGYiLCJ0aGlzIiwibWFza1dyYXBwZXIiLCIkIiwiZGVsZXRlX2J0biIsIm1hc2tub25lIiwidGl0bGV4bSIsImxpbW9kdWxlIiwicHJvdG90eXBlIiwicnVuIiwibGlzdGVuU2hvd0hpZGVFdmVudCIsImFkZGJ0bkV2ZW50IiwiZGVsZXRlU2hvd0hpZGVFdmVudCIsImVkaXRidG5FdmVudCIsImhpZGVFdmVudCIsInZhbCIsImhpZGUiLCJzaG93RXZlbnQiLCJzaG93Iiwic2lnaW5CdG4iLCJjbG9zZUJ0biIsImNsZWFuQnRlbiIsInN1Ym1pdGJ0bmJ1bGUiLCJlZGl0aXRlbWJ0biIsImNsaWNrIiwidGV4dCIsIm1vZHVsZV9uYW1lIiwibW9kdWxlX25hbWUxIiwiYmVsb25nX3Byb2plY3QiLCJjb25zb2xlIiwibG9nIiwic2ltcGxlX2Rlc2MiLCJvdGhlcl9kZXNjIiwibW9kdWxlX29yZGVyIiwieGZ6YWpheCIsInBvc3QiLCJ1cmwiLCJkYXRhIiwidGVzdF91c2VyIiwic3VjY2VzcyIsInJlc3VsdCIsIndpbmRvdyIsIm1lc3NhZ2VCb3giLCJzZXRUaW1lb3V0IiwibG9jYXRpb24iLCJhdHRyIiwibm9uZXNob3dFdmVudCIsIm5vbmVoaWRlRXZlbnQiLCJkZXRlbGVidG5FdmVudCIsImlkIiwiZGVsZXRlX3JlZCIsInRyIiwicGFyZW50Iiwic2libGluZ3MiLCJyZW1vdmVDbGFzcyIsImJ0bnByaW1hcnkiLCJiZWxvbmdfcHJvamVjdDEiLCJvdGhlcl9kZXNjMSIsIm1vZHVsZV9uYW1lMTMiLCJtb2R1bGVfbmFtZTE0IiwiYmVsb25nX3Byb2plY3QyIiwic2ltcGxlX2Rlc2MyIiwib3RoZXJfZGVzYzIiLCJtb2R1bGVfb3JkZXIyIiwianEzMzEiLCJtb2R1bGUiXSwibWFwcGluZ3MiOiJBQUNBLFNBQVNBLFNBQ0wsSUFBSUMsRUFBS0MsS0FDVEQsRUFBS0UsWUFBWUMsRUFBRSxtQkFD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QixHQUNabEMsRUFBWUMsTUFBTSxXQUNkLElBQUlrQyxFQUFjdkQsRUFBRSxnQkFBZ0JZLE1BQ2hDNEMsRUFBY3hELEVBQUUsaUJBQWlCWSxNQUNqQzZDLEVBQWdCekQsRUFBRSxtQkFBbUJZLE1BQ3JDOEMsRUFBYTFELEVBQUUsZ0JBQWdCWSxNQUMvQitDLEVBQVkzRCxFQUFFLGVBQWVZLE1BQzdCZ0QsRUFBYzVELEVBQUUsaUJBQWlCWSxNQUNyQ21CLFFBQVFDLEtBQUssQ0FDVkMsSUFBTyxtQkFDTkMsS0FBUSxDQUNKWSxHQUFLQSxFQUNMdkIsWUFBY2dDLEVBQ2RwQixVQUFZcUIsRUFDWi9CLGVBQWlCZ0MsRUFDakI3QixZQUFjOEIsRUFDZDdCLFdBQWE4QixFQUNiN0IsYUFBZThCLEdBRXZCeEIsUUFBVyxTQUFVQyxHQUNLLE1BQW5CQSxFQUFhLE9BQ1pDLE9BQU9DLFdBQVd4QixLQUFLc0IsRUFBZ0IsU0FDdkNYLFFBQVFDLElBQUksWUFDWmEsV0FBVyxXQUNQRixPQUFPRyxTQUFTLFFBQ2xCLEtBQ0Y1QyxFQUFLTSxRQUFRbUIsS0FBSyxpQkFRdEN1QyxNQUFNLFNBQVM3RCxHQUNYLElBQ0k4RCxFQUFPLElBQUlsRSxPQUNmOEIsUUFBUUMsSUFBSSxNQUNabUMsRUFBT3hELE1BSEVSLEtBSUpNLFNBQVNzQyxLQUFLLFFBQVEsZUFBZVEsV0FBV0MsWUFBWSIsImZpbGUiOiJtb2R1bGVfbGlzdC5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIvL+i/meS4quaYr21vZHVsZV9saXN0Lmh0bWzkuIrnmoRqc+S7o+eggVxyXG5mdW5jdGlvbiBNb2R1bGUoKXtcclxuICAgIHZhciBzZWxmPXRoaXM7XHJcbiAgICBzZWxmLm1hc2tXcmFwcGVyPSQoJy5tb2R1bGUtd3JhcHBlcicpO1xyXG4gICAgc2VsZi5kZWxldGVfYnRuPSQoXCIuYnRuLWRhbmdlclwiKTtcclxuICAgIHNlbGYubWFza25vbmU9JCgnLm1hc2stbm9uZScpO1xyXG4gICAgc2VsZi50aXRsZXhtPSQoXCIjdGl0bGUtbWtcIik7XHJcbiAgICBzZWxmLmxpbW9kdWxlPSQoXCIjbGktbW9kdWxlXCIpO1xyXG59O1xyXG5Nb2R1bGUucHJvdG90eXBlLnJ1bj1mdW5jdGlvbigpe1xyXG4gICAgdmFyIHNlbGY9dGhpcztcclxuICAgIHNlbGYubGlzdGVuU2hvd0hpZGVFdmVudCgpO1xyXG4gICAgc2VsZi5hZGRidG5FdmVudCgpO1xyXG4gICAgc2VsZi5kZWxldGVTaG93SGlkZUV2ZW50KCk7XHJcbiAgICBzZWxmLmVkaXRidG5FdmVudCgpO1xyXG5cclxufTtcclxuXHJcbk1vZHVsZS5wcm90b3R5cGUuaGlkZUV2ZW50PWZ1bmN0aW9uKCl7XHJcbiAgICB2YXIgc2VsZj10aGlzO1xyXG4gICAgdmFyIG1vZHVsZV9uYW1lPSQoJyNtb2R1bGVfbmFtZScpLnZhbChcIlwiKTtcclxuICAgIHZhciBtb2R1bGVfbmFtZTE9JCgnI21vZHVsZV9uYW1lMScpLnZhbChcIlwiKTtcclxuICAgIHZhciBtb2R1bGVfb3JkZXI9JChcIiNtb2R1bGVfb3JkZXJcIikudmFsKFwiXCIpO1xyXG4gICAgdmFyIGJlbG9uZ19wcm9qZWN0PSQoJy5iZWxvbmdfcHJvamVjdCcpLnZhbChcIlwiKTtcclxuICAgIHZhciBzaW1wbGVfZGVzYz0kKCcjc2ltcGxlX2Rlc2MnKS52YWwoXCJcIik7XHJcbiAgICB2YXIgb3RoZXJfZGVzYz0kKCcjb3RoZXJfZGVzYycpLnZhbChcIlwiKTtcclxuICAgIHNlbGYubWFza1dyYXBwZXIuaGlkZSgpO1xyXG59O1xyXG5cclxuTW9kdWxlLnByb3RvdHlwZS5zaG93RXZlbnQ9ZnVuY3Rpb24oKXtcclxuICAgIHZhciBzZWxmPXRoaXM7XHJcbiAgICBzZWxmLm1hc2tXcmFwcGVyLnNob3coKTtcclxufTtcclxuXHJcbk1vZHVsZS5wcm90b3R5cGUubGlzdGVuU2hvd0hpZGVFdmVudD1mdW5jdGlvbigpe1xyXG4gICAgdmFyIHNlbGY9dGhpcztcclxuICAgIHZhciBzaWdpbkJ0bj0kKCcjYWRkLW1rJyk7XHJcbiAgICB2YXIgY2xvc2VCdG49JCgnLmNsb3NlLWJ0bicpO1xyXG4gICAgdmFyIGNsZWFuQnRlbj0kKCcuc3VibWl0LWJ0bi1yZWQnKTtcclxuICAgIHZhciBzdWJtaXRidG5idWxlPSQoXCIjc3VibWl0LWJ0bi1idWxlXCIpO1xyXG4gICAgdmFyIGVkaXRpdGVtYnRuPSQoXCIjZWRpdC1pdGVtLWJ0blwiKTtcclxuICAgIHNpZ2luQnRuLmNsaWNrKGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgc2VsZi5zaG93RXZlbnQoKTtcclxuICAgICAgICBzdWJtaXRidG5idWxlLnNob3coKTtcclxuICAgIH0pO1xyXG4gICAgY2xvc2VCdG4uY2xpY2soZnVuY3Rpb24oKXtcclxuICAgICAgICBzdWJtaXRidG5idWxlLmhpZGUoKTtcclxuICAgICAgICBlZGl0aXRlbWJ0bi5oaWRlKCk7XHJcbiAgICAgICAgc2VsZi50aXRsZXhtLnRleHQoXCLmt7vliqDmqKHlnZdcIik7XHJcbiAgICAgICAgc2VsZi5oaWRlRXZlbnQoKTtcclxuICAgIH0pO1xyXG4gICAgY2xlYW5CdGVuLmNsaWNrKGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgc3VibWl0YnRuYnVsZS5oaWRlKCk7XHJcbiAgICAgICAgZWRpdGl0ZW1idG4uaGlkZSgpO1xyXG4gICAgICAgIHNlbGYudGl0bGV4bS50ZXh0KFwi5re75Yqg5qih5Z2XXCIpO1xyXG4gICAgICAgIHNlbGYuaGlkZUV2ZW50KCk7XHJcbiAgICB9KTtcclxufTtcclxuXHJcbk1vZHVsZS5wcm90b3R5cGUuYWRkYnRuRXZlbnQ9ZnVuY3Rpb24oKXtcclxuICAgIHZhciBzdWJtaXRidG49JCgnI3N1Ym1pdC1idG4tYnVsZScpO1xyXG4gICAgc3VibWl0YnRuLmNsaWNrKGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgdmFyIG1vZHVsZV9uYW1lPSQoJyNtb2R1bGVfbmFtZScpLnZhbCgpO1xyXG4gICAgICAgIHZhciBtb2R1bGVfbmFtZTE9JCgnI21vZHVsZV9uYW1lMScpLnZhbCgpO1xyXG4gICAgICAgIHZhciBiZWxvbmdfcHJvamVjdD0kKCcjYmVsb25nX3Byb2plY3QnKS52YWwoKTtcclxuICAgICAgICBjb25zb2xlLmxvZyhiZWxvbmdfcHJvamVjdCk7XHJcbiAgICAgICAgdmFyIHNpbXBsZV9kZXNjPSQoJyNzaW1wbGVfZGVzYycpLnZhbCgpO1xyXG4gICAgICAgIHZhciBvdGhlcl9kZXNjPSQoJyNvdGhlcl9kZXNjJykudmFsKCk7XHJcbiAgICAgICAgdmFyIG1vZHVsZV9vcmRlcj0kKCcjbW9kdWxlX29yZGVyJykudmFsKCk7XHJcbiAgICAgICAgY29uc29sZS5sb2cob3RoZXJfZGVzYyk7XHJcbiAgICAgICAgeGZ6YWpheC5wb3N0KHtcclxuICAgICAgICAgICAgJ3VybCc6ICcvbWsvYWRkX21vZHVsZS8nLFxyXG4gICAgICAgICAgICAnZGF0YSc6IHtcclxuICAgICAgICAgICAgICAgIFwibW9kdWxlX25hbWVcIjptb2R1bGVfbmFtZSxcclxuICAgICAgICAgICAgICAgIFwidGVzdF91c2VyXCI6bW9kdWxlX25hbWUxLFxyXG4gICAgICAgICAgICAgICAgXCJiZWxvbmdfcHJvamVjdFwiOmJlbG9uZ19wcm9qZWN0LFxyXG4gICAgICAgICAgICAgICAgXCJzaW1wbGVfZGVzY1wiOnNpbXBsZV9kZXNjLFxyXG4gICAgICAgICAgICAgICAgXCJvdGhlcl9kZXNjXCI6b3RoZXJfZGVzYyxcclxuICAgICAgICAgICAgICAgIFwibW9kdWxlX29yZGVyXCI6bW9kdWxlX29yZGVyLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAnc3VjY2Vzcyc6IGZ1bmN0aW9uIChyZXN1bHQpIHtcclxuICAgICAgICAgICAgICAgIGlmKHJlc3VsdFsnY29kZSddID09PSAyMDApe1xyXG4gICAgICAgICAgICAgICAgICAgIHdpbmRvdy5tZXNzYWdlQm94LnNob3cocmVzdWx0W1wibWVzc2FnZVwiXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb249XCIvbWsvXCJcclxuICAgICAgICAgICAgICAgICAgICB9LDkwMCk7XHJcblxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgZWRpdGl0ZW1idG4uYXR0cignaWQnLCdzdWJtaXQtYnRuLWJ1bGUnKTtcclxuICAgIH0pO1xyXG59O1xyXG5cclxuTW9kdWxlLnByb3RvdHlwZS5ub25lc2hvd0V2ZW50PWZ1bmN0aW9uKCl7XHJcbiAgICB2YXIgc2VsZj10aGlzO1xyXG4gICAgc2VsZi5tYXNrbm9uZS5zaG93KCk7XHJcbn07XHJcbk1vZHVsZS5wcm90b3R5cGUubm9uZWhpZGVFdmVudD1mdW5jdGlvbigpe1xyXG4gICAgdmFyIHNlbGY9dGhpcztcclxuICAgIHNlbGYubWFza25vbmUuaGlkZSgpO1xyXG59O1xyXG5cclxuTW9kdWxlLnByb3RvdHlwZS5kZXRlbGVidG5FdmVudD1mdW5jdGlvbigpe1xyXG4gICAgdmFyIHNlbGY9dGhpcztcclxuICAgIHNlbGYuZGVsZXRlX2J0bi5jbGljayhmdW5jdGlvbigpe1xyXG4gICAgICAgIHNlbGYubm9uZXNob3dFdmVudCgpO1xyXG4gICAgfSk7XHJcbn07XHJcblxyXG5Nb2R1bGUucHJvdG90eXBlLmRlbGV0ZVNob3dIaWRlRXZlbnQ9ZnVuY3Rpb24oKXtcclxuICAgIHZhciBzZWxmPXRoaXM7XHJcbiAgICB2YXIgaWQ9XCJcIjtcclxuICAgIHZhciBjbG9zZUJ0bj0kKCcuY2xvc2UtYnRuMScpO1xyXG4gICAgdmFyIGNsZWFuQnRlbj0kKCcuY2FuY2VsLWJ0bicpO1xyXG4gICAgdmFyIGRlbGV0ZV9yZWQ9JCgnLmRlbGV0ZS1idG4tcmVkJyk7XHJcbiAgICBzZWxmLmRlbGV0ZV9idG4uY2xpY2soZnVuY3Rpb24oKXtcclxuICAgICAgICB2YXIgY3VycmVudEJ0biA9ICQodGhpcyk7XHJcbiAgICAgICAgdmFyIHRyID0gY3VycmVudEJ0bi5wYXJlbnQoKTtcclxuICAgICAgICBpZD10ci5hdHRyKFwiaWRcIik7XHJcbiAgICAgICAgY29uc29sZS5sb2coaWQpXHJcbiAgICAgICAgc2VsZi5ub25lc2hvd0V2ZW50KCk7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCI9PT09PT09PVwiKTtcclxuICAgICAgICBjb25zb2xlLmxvZyhpZCk7XHJcbiAgICB9KTtcclxuICAgIGNsb3NlQnRuLmNsaWNrKGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgc2VsZi5ub25laGlkZUV2ZW50KCk7XHJcbiAgICB9KTtcclxuICAgIGNsZWFuQnRlbi5jbGljayhmdW5jdGlvbigpe1xyXG4gICAgICAgIHNlbGYubm9uZWhpZGVFdmVudCgpO1xyXG4gICAgfSk7XHJcbiAgICBkZWxldGVfcmVkLmNsaWNrKGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgeGZ6YWpheC5wb3N0KHtcclxuICAgICAgICAgICAgJ3VybCc6ICcvbWsvZGVsZXRlX21vZHVsZS8nLFxyXG4gICAgICAgICAgICAnZGF0YSc6IHtcclxuICAgICAgICAgICAgICAgIFwiaWRcIjppZCxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgJ3N1Y2Nlc3MnOiBmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICBpZihyZXN1bHRbJ2NvZGUnXSA9PT0gMjAwKXtcclxuICAgICAgICAgICAgICAgICAgICB3aW5kb3cubWVzc2FnZUJveC5zaG93KHJlc3VsdFtcIm1lc3NhZ2VcIl0pO1xyXG4gICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uPVwiL21rL1wiXHJcbiAgICAgICAgICAgICAgICAgICAgfSw5MDApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxuICAgIHNlbGYubGltb2R1bGUuYXR0cihcImNsYXNzXCIsXCJhY3RpdmUtbWVudVwiKS5zaWJsaW5ncygpLnJlbW92ZUNsYXNzKCdhY3RpdmUtbWVudScpO1xyXG59O1xyXG5cclxuTW9kdWxlLnByb3RvdHlwZS5lZGl0YnRuRXZlbnQ9ZnVuY3Rpb24oKXtcclxuICAgIHZhciBzZWxmPXRoaXM7XHJcbiAgICB2YXIgYnRucHJpbWFyeT0kKFwiLmJ0bi1lZGl0XCIpO1xyXG4gICAgdmFyIGVkaXRpdGVtYnRuPSQoXCIuZWRpdC1pdGVtLWJ0blwiKTtcclxuICAgIHZhciBpZD1cIlwiO1xyXG4gICAgdmFyIG1vZHVsZV9uYW1lPVwiXCI7XHJcbiAgICB2YXIgbW9kdWxlX25hbWUxPVwiXCI7XHJcbiAgICB2YXIgYmVsb25nX3Byb2plY3Q9XCJcIjtcclxuICAgIHZhciBzaW1wbGVfZGVzYz1cIlwiO1xyXG4gICAgdmFyIG90aGVyX2Rlc2M9XCJcIjtcclxuICAgIHZhciBtb2R1bGVfb3JkZXI9XCJcIjtcclxuICAgIGJ0bnByaW1hcnkuY2xpY2soZnVuY3Rpb24oKXtcclxuICAgICAgICBzZWxmLnNob3dFdmVudCgpO1xyXG4gICAgICAgIGVkaXRpdGVtYnRuLnNob3coKTtcclxuICAgICAgICBzZWxmLnRpdGxleG0udGV4dChcIue8lui+keaooeWdl1wiKTtcclxuICAgICAgICB2YXIgY3VycmVudEJ0biA9ICQodGhpcyk7XHJcbiAgICAgICAgdmFyIHRyID0gY3VycmVudEJ0bi5wYXJlbnQoKTtcclxuICAgICAgICBpZD10ci5hdHRyKFwiaWRcIik7XHJcbiAgICAgICAgbW9kdWxlX25hbWU9dHIuYXR0cihcIm1vZHVsZV9uYW1lXCIpO1xyXG4gICAgICAgIG1vZHVsZV9uYW1lMT10ci5hdHRyKFwidGVzdF91c2VyXCIpO1xyXG4gICAgICAgIGJlbG9uZ19wcm9qZWN0PXRyLmF0dHIoXCJiZWxvbmdfcHJvamVjdFwiKTtcclxuICAgICAgICBtb2R1bGVfb3JkZXI9dHIuYXR0cihcIm1vZHVsZV9vcmRlclwiKTtcclxuICAgICAgICBjb25zb2xlLmxvZyhiZWxvbmdfcHJvamVjdClcclxuICAgICAgICBzaW1wbGVfZGVzYz10ci5hdHRyKFwic2ltcGxlX2Rlc2NcIik7XHJcbiAgICAgICAgb3RoZXJfZGVzYz10ci5hdHRyKFwib3RoZXJfZGVzY1wiKTtcclxuICAgICAgICB2YXIgbW9kdWxlX25hbWUxMT0kKCcjbW9kdWxlX25hbWUnKS52YWwobW9kdWxlX25hbWUpO1xyXG4gICAgICAgIHZhciBtb2R1bGVfbmFtZTEyPSQoJyNtb2R1bGVfbmFtZTEnKS52YWwobW9kdWxlX25hbWUxKTtcclxuICAgICAgICB2YXIgYmVsb25nX3Byb2plY3QxPSQoJyNiZWxvbmdfcHJvamVjdCcpLnZhbChiZWxvbmdfcHJvamVjdCk7XHJcbiAgICAgICAgdmFyIG1vZHVsZV9vcmRlcjE9JCgnI21vZHVsZV9vcmRlcicpLnZhbChtb2R1bGVfb3JkZXIpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiPVwiKVxyXG4gICAgICAgIGNvbnNvbGUubG9nKGJlbG9uZ19wcm9qZWN0MSlcclxuICAgICAgICB2YXIgc2ltcGxlX2Rlc2MxPSQoJyNzaW1wbGVfZGVzYycpLnZhbChzaW1wbGVfZGVzYyk7XHJcbiAgICAgICAgdmFyIG90aGVyX2Rlc2MxPSQoJyNvdGhlcl9kZXNjJykudmFsKG90aGVyX2Rlc2MpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKG90aGVyX2Rlc2MxKVxyXG4gICAgICAgIGVkaXRpdGVtYnRuLmNsaWNrKGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgIHZhciBtb2R1bGVfbmFtZTEzPSQoJyNtb2R1bGVfbmFtZScpLnZhbCgpO1xyXG4gICAgICAgICAgICB2YXIgbW9kdWxlX25hbWUxND0kKCcjbW9kdWxlX25hbWUxJykudmFsKCk7XHJcbiAgICAgICAgICAgIHZhciBiZWxvbmdfcHJvamVjdDI9JCgnI2JlbG9uZ19wcm9qZWN0JykudmFsKCk7XHJcbiAgICAgICAgICAgIHZhciBzaW1wbGVfZGVzYzI9JCgnI3NpbXBsZV9kZXNjJykudmFsKCk7XHJcbiAgICAgICAgICAgIHZhciBvdGhlcl9kZXNjMj0kKCcjb3RoZXJfZGVzYycpLnZhbCgpO1xyXG4gICAgICAgICAgICB2YXIgbW9kdWxlX29yZGVyMj0kKCcjbW9kdWxlX29yZGVyJykudmFsKCk7XHJcbiAgICAgICAgICAgIHhmemFqYXgucG9zdCh7XHJcbiAgICAgICAgICAgICAgICd1cmwnOiAnL21rL2VkaXRfbW9kdWxlLycsXHJcbiAgICAgICAgICAgICAgICAnZGF0YSc6IHtcclxuICAgICAgICAgICAgICAgICAgICBcImlkXCI6aWQsXHJcbiAgICAgICAgICAgICAgICAgICAgXCJtb2R1bGVfbmFtZVwiOm1vZHVsZV9uYW1lMTMsXHJcbiAgICAgICAgICAgICAgICAgICAgXCJ0ZXN0X3VzZXJcIjptb2R1bGVfbmFtZTE0LFxyXG4gICAgICAgICAgICAgICAgICAgIFwiYmVsb25nX3Byb2plY3RcIjpiZWxvbmdfcHJvamVjdDIsXHJcbiAgICAgICAgICAgICAgICAgICAgXCJzaW1wbGVfZGVzY1wiOnNpbXBsZV9kZXNjMixcclxuICAgICAgICAgICAgICAgICAgICBcIm90aGVyX2Rlc2NcIjpvdGhlcl9kZXNjMixcclxuICAgICAgICAgICAgICAgICAgICBcIm1vZHVsZV9vcmRlclwiOm1vZHVsZV9vcmRlcjIsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICdzdWNjZXNzJzogZnVuY3Rpb24gKHJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgaWYocmVzdWx0Wydjb2RlJ10gPT09IDIwMCl7XHJcbiAgICAgICAgICAgICAgICAgICAgd2luZG93Lm1lc3NhZ2VCb3guc2hvdyhyZXN1bHRbXCJtZXNzYWdlXCJdKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIuW3suaJp+ihjOe8lui+kT09PVwiKVxyXG4gICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uPVwiL21rL1wiXHJcbiAgICAgICAgICAgICAgICAgICAgfSwxMDAwKTtcclxuICAgICAgICAgICAgICAgICAgICBzZWxmLnRpdGxleG0udGV4dChcIua3u+WKoOaooeWdl1wiKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcbn07XHJcblxyXG5qcTMzMShmdW5jdGlvbigkKXtcclxuICAgIHZhciBzZWxmPXRoaXM7XHJcbiAgICB2YXIgbW9kdWxlPW5ldyBNb2R1bGUoKTtcclxuICAgIGNvbnNvbGUubG9nKFwi5omn6KGMXCIpO1xyXG4gICAgbW9kdWxlLnJ1bigpO1xyXG4gICAgc2VsZi5saW1vZHVsZS5hdHRyKFwiY2xhc3NcIixcImFjdGl2ZS1tZW51XCIpLnNpYmxpbmdzKCkucmVtb3ZlQ2xhc3MoJ2FjdGl2ZS1tZW51Jyk7XHJcbn0pOyJdfQ==
